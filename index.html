<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ラジオ体操</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="wrapper">
    <div id="top">
      <ul>
        <li id="start">スタート</li>
        <li id="stop">ストップ</li>
        <li id="result">?</li>
      </ul>
    </div>
    <div id="middle">
      <div id="youtube">
        <!-- <iframe id="radio1" width="640" height="360" src="https://www.youtube.com/embed/8LXVA1-qj1E" frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
        <iframe id="radio1" width="560" height="315" src="https://www.youtube.com/embed/feSVtC1BSeQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <!-- <iframe id="radio2" width="560" height="315" src="https://www.youtube.com/embed/wGx8ykDtj_8?start=8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
        <iframe id="radio2" width="560" height="315" src="https://www.youtube.com/embed/dzQIMo-Xvyg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
    <div id="bottom">
      <ul>
        <li id="radio1Button">1</li>
        <li id="radio2Button">2</li>
      </ul>
    </div>
  </div>

  <script>
    'use strict';

    var rouletteArray = new Array();
    var idx;

    document.getElementById('start').onclick = function () {
      rouletteArray.push( setInterval(function () {
        idx = Math.floor(Math.random() * 2) + 1;
        document.getElementById("result").innerHTML = idx;
      }, 50) );
    }

    document.getElementById('stop').onclick = function () {
      if (rouletteArray.length > 0) {
        for(var i = 0; i < rouletteArray.length; i++){

        }

        clearInterval( rouletteArray.shift() ); // すべて止める
        const radio1 = document.getElementById('radio1');
        const radio2 = document.getElementById('radio2');
        if(idx == 1){
          radio2.style.display = "none";
          radio1.style.display = "block";
          radio1.animate({opacity: [0,1]}, 1500)
        } else {
          radio1.style.display= "none";
          radio2.style.display = "block";
          radio2.animate({opacity: [0,1]}, 1500)
        }
      }
    }
  </script>
</body>

</html>
