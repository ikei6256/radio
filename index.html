<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ラジオ体操</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="fontawesome-free-5.13.1-web/css/all.css">
</head>

<body>
  <div id="wrapper">
    <div id="top">
      <ul>
        <li id="start" class="btn-real"><i class="fa fa-play"></i></li> <!-- スタート -->
        <li id="stop" class="btn-real"><i class="fa fa-skull"></i></li> <!-- ストップ -->
        <li id="result">?</li>
      </ul>
    </div>
    <div id="middle">
      <div id="youtube">
        <!-- <iframe id="radio1" width="640" height="360" src="https://www.youtube.com/embed/8LXVA1-qj1E" frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
        <iframe id="radio1" width="560" height="315" src="https://www.youtube.com/embed/feSVtC1BSeQ" frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <!-- <iframe id="radio2" width="560" height="315" src="https://www.youtube.com/embed/wGx8ykDtj_8?start=8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
        <iframe id="radio2" width="560" height="315" src="https://www.youtube.com/embed/dzQIMo-Xvyg" frameborder="0"
          allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </div>
    </div>
    <div id="bottom">
      <ul>
        <li id="radioL" class="btn-real"><i class="fas fa-angle-left"></i></li>
        <li id="radioR" class="btn-real"><i class="fas fa-angle-right"></i></li>
      </ul>
    </div>
  </div>

  <script>
    'use strict';

    var rouletteArray = new Array();
    var index;

    document.getElementById('start').onclick = function () {
      rouletteArray.push(setInterval(function () {
        index = Math.floor(Math.random() * 2) + 1;
        document.getElementById("result").innerHTML = index;
      }, 50));
    }

    document.getElementById('stop').onclick = function () {
      if (rouletteArray.length > 0) {
        // すべて止める
        var i;
        while ((i = rouletteArray.shift()) !== undefined) {
          clearInterval(i);
        }
        const radio1 = document.getElementById('radio1');
        const radio2 = document.getElementById('radio2');
        showRadio(index);
      }
    }

    document.getElementById('radioL').onclick = function(){
      showRadio(1);
    };
    document.getElementById('radioR').onclick = function(){
      showRadio(2);
    };

    function showRadio(idx) {
      if (idx == 1) {
        radio2.style.display = "none";
        radio1.style.display = "block";
        radio1.animate({
          opacity: [0, 1]
        }, 1000)
      } else {
        radio1.style.display = "none";
        radio2.style.display = "block";
        radio2.animate({
          opacity: [0, 1]
        }, 1000)
      }
    }
  </script>
</body>

</html>
